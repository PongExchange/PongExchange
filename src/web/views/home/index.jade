extends ../layout
include ../mixins

append Css
	link(type='text/css', rel='stylesheet', href=less.mixins)
	link(type='text/css', rel='stylesheet', href=less.home)

block Content
	div.games 
		h2 Recent Games
		table.table
			tr
				th Winner
				th Loser 
				th Score
				th Date played
			each game in games
				tr
					td 
						+renderTeam(game.team1)
					td
						+renderTeam(game.team2)
					td #{game.team1Score}-#{game.team2Score} 
					td
						+relativeTime(game.played_date)
	
	table.table.singles-players-table
		thead
			tr
				th(colspan=3) Top Singles Players 
			tr
				th Name
				th Played
				th Won
		tbody
		each p in singlePlayers
			tr
				td 
					+renderPlayer(p)
				td #{p.stats.singlesGamesPlayed}
				td #{p.stats.singlesGamesWon}
	
	table.table.doubles-players-table
		thead
			tr
				th(colspan=3) Top Doubles Teams 
			tr
				th Team 
				th Played
				th Won
		tbody
		each p in doublePlayers
			tr
				td 
					+renderPlayer(p)
				td #{p.stats.doublesGamesPlayed}
				td #{p.stats.doublesGamesWon}